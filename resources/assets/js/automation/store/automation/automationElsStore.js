const state = {
    allUserForEls: [],
    managementUserForEls: [],
    allDocumentForEls: [],
    allGateForEls: [],
    elsTable: [],
    selectElsEdit: [],

}
const getters = {}
const mutations = {
    allUserForEls(state, allUserForEls) {
        state.allUserForEls = allUserForEls
    },
    managementUserForEls(state, managementUserForEls) {
        state.managementUserForEls = managementUserForEls
    },
    allDocumentForEls(state, allDocumentForEls) {
        state.allDocumentForEls = allDocumentForEls
    },
    allGateForEls(state, allGateForEls) {
        state.allGateForEls = allGateForEls
    },
    elsTable(state, elsTable) {
        state.elsTable = elsTable
    },
    selectElsEdit(state, selectElsEdit) {
        state.selectElsEdit = selectElsEdit
    },
}
const actions = {
    allUserForEls(context,data) {
        const form = new FormData()
        form.append('searchName', data.searchName)
        axios.defaults.headers.common['Authorization'] = 'Bearer ' + ((document.cookie.match('(^|;) ?token=([^;]*)(;|$)')) ?  document.cookie.match('(^|;) ?token=([^;]*)(;|$)')[2] :  null)
        return new Promise((resolve, reject) => {
            axios.post('api/v1/allUserForEls',form)
                .then(response => {
                    const allUserForEls = response.data
                    context.commit('allUserForEls', allUserForEls)
                    resolve(resolve)//
                })
                .catch(error => {
                    return {
                        'type': 'error',
                        'title': 'عملیات با خطلا 1501',
                        'text': 'لطفا با پشتیبانی ارتباط برقرار کنید'
                    }
                    reject(error)
                })
        })
    },
    managementUserForEls(context,data) {
        const form = new FormData()
        form.append('searchName', data.searchName)
        axios.defaults.headers.common['Authorization'] = 'Bearer ' + ((document.cookie.match('(^|;) ?token=([^;]*)(;|$)')) ?  document.cookie.match('(^|;) ?token=([^;]*)(;|$)')[2] :  null)
        return new Promise((resolve, reject) => {
            axios.post('api/v1/managementUserForEls',form)
                .then(response => {
                    const managementUserForEls = response.data
                    context.commit('managementUserForEls', managementUserForEls)
                    resolve(resolve)//
                })
                .catch(error => {
                    return {
                        'type': 'error',
                        'title': 'عملیات با خطلا 1501',
                        'text': 'لطفا با پشتیبانی ارتباط برقرار کنید'
                    }
                    reject(error)
                })
        })
    },
    allDocumentForEls(context,data) {
        const form = new FormData()
        form.append('searchName', data.searchName)
        axios.defaults.headers.common['Authorization'] = 'Bearer ' + ((document.cookie.match('(^|;) ?token=([^;]*)(;|$)')) ?  document.cookie.match('(^|;) ?token=([^;]*)(;|$)')[2] :  null)
        return new Promise((resolve, reject) => {
            axios.post('api/v1/allDocumentForEls',form)
                .then(response => {
                    const allDocumentForEls = response.data
                    context.commit('allDocumentForEls', allDocumentForEls)
                    resolve(resolve)//
                })
                .catch(error => {
                    return {
                        'type': 'error',
                        'title': 'عملیات با خطلا 1501',
                        'text': 'لطفا با پشتیبانی ارتباط برقرار کنید'
                    }
                    reject(error)
                })
        })
    },
    allGateForEls(context,data) {
        axios.defaults.headers.common['Authorization'] = 'Bearer ' + ((document.cookie.match('(^|;) ?token=([^;]*)(;|$)')) ?  document.cookie.match('(^|;) ?token=([^;]*)(;|$)')[2] :  null)
        return new Promise((resolve, reject) => {
            axios.post('api/v1/allGateForEls')
                .then(response => {
                    const allGateForEls = response.data
                    context.commit('allGateForEls', allGateForEls)
                    resolve(resolve)//
                })
                .catch(error => {
                    return {
                        'type': 'error',
                        'title': 'عملیات با خطلا 1501',
                        'text': 'لطفا با پشتیبانی ارتباط برقرار کنید'
                    }
                    reject(error)
                })
        })
    },
    elsTable(context, data) {
        const form = new FormData()
        form.append('search', data.searchName)
        form.append('searchColumn', data.searchColumn)
        form.append('order',data.order)
        form.append('name', data.name)
        form.append('startDate', data.startDate)
        form.append('endDate', data.endDate)
        axios.defaults.headers.common['Authorization'] = 'Bearer ' + ((document.cookie.match('(^|;) ?token=([^;]*)(;|$)')) ?  document.cookie.match('(^|;) ?token=([^;]*)(;|$)')[2] :  null)
        return new Promise((resolve, reject) => {
            axios.post('api/v1/elsTable' + '?page=' + data.pageNum,form)
                .then(response => {
                    const elsTable = response.data
                    context.commit('elsTable', elsTable)
                    resolve(resolve)//

                })
                .catch(error => {
                    return {
                        'type': 'error',
                        'title': 'عملیات با خطلا 1501',
                        'text': 'لطفا با پشتیبانی ارتباط برقرار کنید'
                    }
                    reject(error)
                })
        })
    },
    selectElsEdit(context,id) {
        axios.defaults.headers.common['Authorization'] = 'Bearer ' + ((document.cookie.match('(^|;) ?token=([^;]*)(;|$)')) ?  document.cookie.match('(^|;) ?token=([^;]*)(;|$)')[2] :  null)
        return new Promise((resolve, reject) => {
            axios.get('api/v1/selectElsEdit/'+id)
                .then(response => {
                    const selectElsEdit = response.data
                    context.commit('selectElsEdit', selectElsEdit)
                    resolve(resolve)//
                })
                .catch(error => {
                    return {
                        'type': 'error',
                        'title': 'عملیات با خطلا 1501',
                        'text': 'لطفا با پشتیبانی ارتباط برقرار کنید'
                    }
                    reject(error)
                })
        })
    },

}
export default {
    state, mutations, actions, getters
}

